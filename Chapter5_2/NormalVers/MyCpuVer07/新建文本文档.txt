对应第五章第二个例程，相比之前的代码，在指令判断上进行了优化。